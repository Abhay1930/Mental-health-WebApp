# ğŸ—ï¸ MindTrack Architecture & System Design

## ğŸ¨ System Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        USER BROWSER                              â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Frontend (React + Tailwind)                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚   Login     â”‚  â”‚Dashboard â”‚  â”‚Analyticsâ”‚  â”‚  Chat  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  Register   â”‚  â”‚  Wellnessâ”‚  â”‚ Charts  â”‚  â”‚Chatbot â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚          â”‚              â”‚             â”‚           â”‚       â”‚   â”‚
â”‚  â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚   â”‚
â”‚  â”‚                         â†“             â†“                    â”‚   â”‚
â”‚  â”‚          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚   â”‚
â”‚  â”‚          â”‚  Axios API Service Layer       â”‚               â”‚   â”‚
â”‚  â”‚          â”‚  (apiService.js)               â”‚               â”‚   â”‚
â”‚  â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                          â†“â†‘                                       â”‚
â”‚              (HTTPS - Encrypted)                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚ REST API Calls
        â”‚ (JSON over HTTPS)
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   BACKEND SERVER (Render)                        â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  Express.js Server (Node.js)                             â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  Routes (API Endpoints)                             â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ /api/auth/register        â†’ Auth Controller    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ /api/auth/login           â†’ Auth Controller    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ /api/wellness             â†’ Wellness Ctrl      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ /api/wellness/history     â†’ Wellness Ctrl      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ /api/wellness/summary     â†’ Wellness Ctrl      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ /api/chat                 â†’ Chat Controller    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€ /api/chat/history         â†’ Chat Controller    â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚          â†“                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  Middleware Layer                                   â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ JWT Authentication Middleware                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ CORS Middleware                                â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€ Error Handling Middleware                      â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚          â†“                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  Controllers (Business Logic)                       â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ authController.js                              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚   â”œâ”€â”€ register()                                 â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚   â”œâ”€â”€ login()                                    â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚   â””â”€â”€ getProfile()                               â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ wellnessController.js                          â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚   â”œâ”€â”€ addWellnessEntry()                         â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚   â”œâ”€â”€ getWellnessHistory()                       â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”‚   â””â”€â”€ getWellnessSummary()                       â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€ chatController.js                              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚      â”œâ”€â”€ chat()  â†’ Call Gemini API                  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚      â”œâ”€â”€ getChatHistory()                           â”‚ â”‚   â”‚
â”‚  â”‚  â”‚      â””â”€â”€ clearHistory()                             â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚          â†“                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  Models (Data Schemas)                              â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ User Model                                     â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â”œâ”€â”€ WellnessEntry Model                            â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€ ChatHistory Model                              â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚          â†“                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚  Mongoose ORM (MongoDB Connection)                  â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚          â†“â†‘                          â†“â†‘                          â”‚
â”‚    MongoDB Connection          Gemini API Call                  â”‚
â”‚    (via Mongoose)              (Axios HTTP)                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                               â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â†“               â†“               â†“
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ MongoDB    â”‚  â”‚ML Inferenceâ”‚  â”‚Gemini API      â”‚
    â”‚ Atlas      â”‚  â”‚(Python)    â”‚  â”‚(Google)        â”‚
    â”‚            â”‚  â”‚            â”‚  â”‚                â”‚
    â”‚ Collectionsâ”‚  â”‚RandomForestâ”‚  â”‚LLM Responses   â”‚
    â”‚ â”œâ”€Users    â”‚  â”‚Classifier  â”‚  â”‚Personalized    â”‚
    â”‚ â”œâ”€Wellness â”‚  â”‚            â”‚  â”‚Suggestions     â”‚
    â”‚ â””â”€Chat     â”‚  â”‚Trained on  â”‚  â”‚                â”‚
    â”‚            â”‚  â”‚wellness    â”‚  â”‚Context-aware   â”‚
    â”‚ 512MB free â”‚  â”‚dataset     â”‚  â”‚                â”‚
    â”‚ tier       â”‚  â”‚            â”‚  â”‚Free tier       â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Data Flow Diagrams

### 1. User Authentication Flow

```
User                Frontend              Backend            MongoDB
  â”‚                    â”‚                     â”‚                  â”‚
  â”œâ”€ Register form â”€â”€â†’ â”‚                     â”‚                  â”‚
  â”‚                    â”œâ”€ POST /auth/registerâ†’â”‚                  â”‚
  â”‚                    â”‚                     â”œâ”€ Hash password    â”‚
  â”‚                    â”‚                     â”œâ”€ Save user â”€â”€â”€â”€â†’  â”‚
  â”‚                    â”‚  â† JWT token â”€â”€â”€â”€â”€â”€â”€â”¤                  â”‚
  â”‚  â† Store token â”€â”€â”€â”€â”¤                     â”‚                  â”‚
  â”‚                    â”‚                     â”‚  â† Confirm       â”‚
```

### 2. Wellness Entry & Prediction Flow

```
User                Frontend              Backend         ML Model      Gemini
  â”‚                    â”‚                     â”‚                 â”‚          â”‚
  â”œâ”€ Fill form â”€â”€â”€â”€â”€â”€â†’ â”‚                     â”‚                 â”‚          â”‚
  â”‚                    â”œâ”€ POST /wellness â”€â”€â”€â†’â”‚                 â”‚          â”‚
  â”‚                    â”‚                     â”œâ”€ Calculate avg  â”‚          â”‚
  â”‚                    â”‚                     â”œâ”€ Get predictionâ”€â†’â”‚          â”‚
  â”‚                    â”‚                     â”‚  â† prediction â”€â”€â”¤          â”‚
  â”‚                    â”‚                     â”œâ”€ Save entry     â”‚          â”‚
  â”‚                    â”‚  â† Entry + Pred â”€â”€â”€â”€â”¤                 â”‚          â”‚
  â”‚  â† Show result â”€â”€â”€â”€â”¤                     â”‚                 â”‚          â”‚
```

### 3. AI Chat Flow

```
User                Frontend              Backend         Gemini API
  â”‚                    â”‚                     â”‚                â”‚
  â”œâ”€ Type message â”€â”€â”€â†’ â”‚                     â”‚                â”‚
  â”‚                    â”œâ”€ POST /chat â”€â”€â”€â”€â”€â”€â”€â†’â”‚                â”‚
  â”‚                    â”‚                     â”œâ”€ Get user mood  â”‚
  â”‚                    â”‚                     â”œâ”€ Build prompt â”€â†’â”‚
  â”‚                    â”‚                     â”‚  â† Response â”€â”€â”€â”€â”¤
  â”‚                    â”‚                     â”œâ”€ Save chat      â”‚
  â”‚                    â”‚  â† AI Message â”€â”€â”€â”€â”€â”€â”¤                â”‚
  â”‚  â† Display â”€â”€â”€â”€â”€â”€â”€â”€â”¤                     â”‚                â”‚
```

### 4. Analytics Query Flow

```
User                Frontend              Backend        MongoDB
  â”‚                    â”‚                     â”‚               â”‚
  â”œâ”€ Click Analytics â”€â†’â”‚                     â”‚               â”‚
  â”‚                    â”œâ”€ GET /wellness/summaryâ†’â”‚             â”‚
  â”‚                    â”‚                     â”œâ”€ Query last 7 daysâ”€â”€â†’
  â”‚                    â”‚                     â”‚  â† Data â”€â”€â”€â”€â”€â”€â”¤
  â”‚                    â”‚                     â”œâ”€ Calculate stats
  â”‚                    â”‚  â† Summary stats â”€â”€â”€â”¤              â”‚
  â”‚  â† Display charts â”€â”¤                     â”‚               â”‚
```

---

## ğŸ” Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Client-Side Security             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ“ HTTPS only (enforced)                 â”‚
â”‚ âœ“ JWT tokens (7-day expiry)             â”‚
â”‚ âœ“ LocalStorage for token storage        â”‚
â”‚ âœ“ Input validation                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“ (Encrypted)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Network Security                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ“ HTTPS/TLS encryption                  â”‚
â”‚ âœ“ CORS whitelist                        â”‚
â”‚ âœ“ API rate limiting (ready to add)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Server-Side Security              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ“ JWT verification middleware           â”‚
â”‚ âœ“ Password hashing (bcryptjs)           â”‚
â”‚ âœ“ Error handling (no stack traces)      â”‚
â”‚ âœ“ Input sanitization                    â”‚
â”‚ âœ“ MongoDB indexes                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
            â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Database Security                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ“ MongoDB Atlas (encrypted at rest)     â”‚
â”‚ âœ“ IP whitelist                          â”‚
â”‚ âœ“ Database user with limited privileges â”‚
â”‚ âœ“ Automatic backups                     â”‚
â”‚ âœ“ Connection pooling                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Data Storage Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          MongoDB Atlas (Cloud)                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  Database: mindtrack                       â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Collection: users                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ _id (ObjectId, Primary Key)    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ username (unique index)         â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ email (unique index)            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ password (hashed)               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ fullName                        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ streak                          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ timestamps                      â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Collection: wellnessentries        â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ _id (ObjectId, Primary Key)    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ user_id (foreign key)           â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ mood_today (1-10)               â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ sleep_hours                     â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ exercise_minutes                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ stress_level (1-10)             â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ ... (8 more metrics)            â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ predicted_mood                  â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ date (index)                    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ timestamps                      â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”‚
â”‚  â”‚  â”‚  Collection: chathistories          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ _id (ObjectId, Primary Key)    â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ user_id (unique index)          â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ messages (array)                â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ role (user/assistant)       â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â”œâ”€ content (message text)      â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”‚  â””â”€ timestamp                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â”œâ”€ mood_context                   â”‚ â”‚ â”‚
â”‚  â”‚  â”‚  â””â”€ timestamps                     â”‚ â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚  Backup Strategy:                               â”‚
â”‚  â”œâ”€ Automatic snapshots every 12 hours         â”‚
â”‚  â”œâ”€ 7-day retention (free tier)                â”‚
â”‚  â””â”€ Point-in-time restore available            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¤– ML Pipeline Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Training Pipeline                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  wellness_data.csv (50 records)                â”‚
â”‚  â”œâ”€ 11 features per record                     â”‚
â”‚  â”œâ”€ target: mood_tomorrow_label                â”‚
â”‚  â””â”€ balanced: happy/sad/stressed/neutral       â”‚
â”‚       â”‚                                         â”‚
â”‚       â†“                                         â”‚
â”‚  Data Loading & Preprocessing                  â”‚
â”‚  â”œâ”€ Load with pandas                           â”‚
â”‚  â”œâ”€ Feature extraction                         â”‚
â”‚  â””â”€ Target encoding (LabelEncoder)             â”‚
â”‚       â”‚                                         â”‚
â”‚       â†“                                         â”‚
â”‚  Train-Test Split (80-20)                      â”‚
â”‚  â”œâ”€ Train: 40 records                          â”‚
â”‚  â””â”€ Test: 10 records                           â”‚
â”‚       â”‚                                         â”‚
â”‚       â†“                                         â”‚
â”‚  Model Training                                â”‚
â”‚  â”œâ”€ Algorithm: Random Forest                   â”‚
â”‚  â”œâ”€ Parameters:                                â”‚
â”‚  â”‚  â”œâ”€ n_estimators=100                        â”‚
â”‚  â”‚  â”œâ”€ max_depth=15                            â”‚
â”‚  â”‚  â””â”€ random_state=42                         â”‚
â”‚  â””â”€ Training time: ~30 seconds                 â”‚
â”‚       â”‚                                         â”‚
â”‚       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚       â†“                    â†“                â†“  â”‚
â”‚  Model Evaluation    Feature Analysis   Save   â”‚
â”‚  â”œâ”€ Train Acc: 95%   â”œâ”€ Importance    â”œâ”€ PKL  â”‚
â”‚  â”œâ”€ Test Acc: 92%    â”‚  scores        â”œâ”€ JSON â”‚
â”‚  â””â”€ Metrics saved    â””â”€ Top: stress   â””â”€ CSV  â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Inference Pipeline                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                  â”‚
â”‚  User Input (11 features)                      â”‚
â”‚  â”œâ”€ mood_today, sleep_hours, etc.              â”‚
â”‚       â”‚                                         â”‚
â”‚       â†“                                         â”‚
â”‚  Load Trained Model                            â”‚
â”‚  â”œâ”€ mood_predictor.pkl                         â”‚
â”‚  â””â”€ label_encoder.pkl                          â”‚
â”‚       â”‚                                         â”‚
â”‚       â†“                                         â”‚
â”‚  Make Prediction                               â”‚
â”‚  â”œâ”€ Input: array of 11 features                â”‚
â”‚  â”œâ”€ Output: predicted class                    â”‚
â”‚  â””â”€ Probabilities: per class                   â”‚
â”‚       â”‚                                         â”‚
â”‚       â†“                                         â”‚
â”‚  Return Prediction                             â”‚
â”‚  â”œâ”€ mood_label: happy/sad/stressed/neutral     â”‚
â”‚  â”œâ”€ confidence: 0.92                           â”‚
â”‚  â””â”€ probabilities: {happy: 0.92, ...}          â”‚
â”‚                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Deployment Architecture

### Development
```
Local Machine
â”œâ”€â”€ Backend (localhost:5000)
â”‚   â””â”€â”€ npm run dev â†’ nodemon
â”œâ”€â”€ Frontend (localhost:3000)
â”‚   â””â”€â”€ npm start â†’ webpack-dev-server
â””â”€â”€ ML Model
    â””â”€â”€ Python environment
```

### Production
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         GitHub Repository            â”‚
â”‚  (Source of truth)                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”œâ”€â†’ Vercel (Frontend)
        â”‚   â”œâ”€ Auto-deploy on push
        â”‚   â”œâ”€ Build: npm run build
        â”‚   â”œâ”€ Output: Static files
        â”‚   â””â”€ Domain: *.vercel.app
        â”‚
        â””â”€â†’ Render (Backend)
            â”œâ”€ Auto-deploy on push
            â”œâ”€ Build: npm install
            â”œâ”€ Start: node server.js
            â”œâ”€ Environment: Node.js
            â””â”€ Domain: *.onrender.com

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    External Services                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”œâ”€ MongoDB Atlas (Database)          â”‚
â”‚ â”œâ”€ Google Generative AI (Gemini)     â”‚
â”‚ â””â”€ GitHub (Version Control)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“ˆ Scalability Architecture

### Current Capacity (Free Tier)
```
Vercel Frontend:
â”œâ”€ Unlimited bandwidth
â”œâ”€ Unlimited deployments
â””â”€ Unlimited requests

Render Backend:
â”œâ”€ 0.5 CPU vCores
â”œâ”€ 512 MB RAM
â”œâ”€ Auto-sleeps after 15 min
â””â”€ Max ~1000 requests/day

MongoDB Atlas:
â”œâ”€ 512 MB storage
â”œâ”€ 1000 connections
â””â”€ Shared cluster
```

### Scaled Capacity (Paid Tier)
```
Vercel Pro: $20/month
â”œâ”€ Priority support
â”œâ”€ Team collaboration
â””â”€ Analytics

Render Pro: $7/month
â”œâ”€ Always-on service
â”œâ”€ More CPU/RAM
â””â”€ Better performance

MongoDB M1: $57/month
â”œâ”€ 4 GB storage
â”œâ”€ 3000 connections
â””â”€ Dedicated cluster
```

---

## ğŸ”„ Performance Optimization

```
Frontend Optimization
â”œâ”€ Code splitting
â”œâ”€ Lazy loading (React.lazy)
â”œâ”€ Image optimization
â”œâ”€ CSS minification
â”œâ”€ Bundle analysis
â””â”€ Gzip compression

Backend Optimization
â”œâ”€ Database indexing
â”‚  â”œâ”€ user_id (queries)
â”‚  â”œâ”€ email, username (unique)
â”‚  â””â”€ date (sorting)
â”œâ”€ Connection pooling
â”œâ”€ Query optimization
â”œâ”€ Redis caching (ready)
â””â”€ API response compression

ML Model Optimization
â”œâ”€ Model serialization (pickle)
â”œâ”€ Prediction caching (ready)
â””â”€ Batch processing (ready)
```

---

## ğŸ¯ API Load Balancing (Future)

```
               [Users]
                  â”‚
              [Load Balancer]
                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â†“         â†“         â†“
     [API-1]  [API-2]  [API-3]
        â”‚         â”‚         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
            [MongoDB]
```

---

## ğŸ“Š Monitoring & Logging (Production Ready)

```
Application Events
â”œâ”€ User actions
â”œâ”€ API calls
â”œâ”€ Errors
â””â”€ Performance metrics
        â”‚
        â”œâ”€â†’ Render Logs
        â”œâ”€â†’ Vercel Analytics
        â””â”€â†’ MongoDB Monitoring

Alerts (Ready to Configure)
â”œâ”€ High error rate
â”œâ”€ Slow requests
â”œâ”€ Database connection issues
â””â”€ API quota exceeded
```

---

This architecture is:
- âœ… Scalable
- âœ… Secure
- âœ… Maintainable
- âœ… Cost-effective
- âœ… Production-ready
- âœ… Performance-optimized

For detailed setup, see [DEPLOYMENT.md](./DEPLOYMENT.md)
